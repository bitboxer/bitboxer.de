<!DOCTYPE html>
<html lang="de">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Bitboxer - Git Commit EMails mit HTML</title>
    <meta name="viewport" content="width=device-width">

    <link href="/atom.xml" rel="alternate" title="Bitboxer" type="application/atom+xml">

    <script src="https://kit.fontawesome.com/e39a1d799d.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="shortcut icon" href="/favicon.ico">
    <script src="/js/index.js"></script>

    <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
    <script>
      (function(f, a, t, h, o, m) {
        a[h] =
          a[h] ||
          function() {
            (a[h].q = a[h].q || []).push(arguments);
          };
        (o = f.createElement("script")),
          (m = f.getElementsByTagName("script")[0]);
        o.async = 1;
        o.src = t;
        o.id = "fathom-script";
        m.parentNode.insertBefore(o, m);
      })(document, window, "//ping.bitboxer.de/tracker.js", "fathom");
      fathom("set", "siteId", "WMQSI");
      fathom("trackPageview");
    </script>
    <!-- / Fathom -->
  </head>
  <body>
    <div class="container">
      <div class="site">
        <div class="header">
          <h1 class="header--title"><a href="https://bodo.tasche.me">Bitboxer</a></h1>
          <div class="header--menu">
            <a class="extra" href="https://bitboxer.de">blog</a>
            <a class="extra" href="https://bodo.tasche.me/projects">projects</a>
            <a class="extra" href="https://bodo.tasche.me">about me</a>
          </div>
        </div>

        <div class="content">
  <article>
    
    <div class="head-without-image">
      <h1 class="headline">Git Commit EMails mit HTML</h1>
      <time datetime="2010-03-26T10:43:27.000+0100">26 Mar 2010</time>
    </div>
    

    <div class="post">
      <p>Bei <a href="http://putpat.tv">putpat.tv</a> sind wir vor einiger Zeit auf
<a href="http://git-scm.com/">Git</a> umgestiegen. Alles in allem war der Umstieg ziemlich
reibungslos und mit coolen Tools wie <a href="http://gitx.frim.nl/">GitX</a> macht das
entwickeln gleich noch mehr Spaß. Bis jetzt habe ich nur 2 Probleme gefunden,
die etwas gestört haben:</p>

<ul>
  <li>Wenn jemand ein Verzeichnis zu einem symbolischen Link umwandelt, gibt es
Probleme bei Git. Die kann man zwar beheben, aber für einen Git-Dau war das
schon etwas erschreckend, was dann mit dem eigenen Repository passiert :smile:</li>
  <li>Keine ordentlichen Commit-EMails mehr.</li>
</ul>

<p>Gerade der letzte Punkt war ganz schön ätzend. Es gibt zwar ein von Git
mitgeliefertes Skript für Commit-Mails (und viele Varianten des Skripts draußen
im Netz), aber diese haben uns nicht wirklich überzeugt.</p>

<ul>
  <li>Jeder Push wird in einer einzigen Mail abgehandelt. Wenn man mehrere
getrennte Commits in das zentrale Repository gepusht hat, gab es nur eine
Mail und man musste beim Lesen der Mail ziemlich mitdenken.</li>
  <li>Die Mail wird in Plain-Text verschickt. Das macht das lesen der Diffs nicht
gerade einfach.</li>
  <li>Das Skript ist ein Shellskript und nicht wirklich gut anpassbar auf unsere
Bedürfnisse</li>
</ul>

<p>Nach ein wenig Suchen habe ich allerdings ein Ruby-Projekt gefunden, das eine
gute Basis für unsere Version eines Git-Commit-Notifiers war. Das ganze Skript
habe ich ein wenig aufbohrt mit weiteren Features und ein Gem daraus erzeugt.
Mein Fork findet sich bei Github in meinem
<a href="https://github.com/git-commit-notifier/git-commit-notifier">Repository</a>.</p>

<p>Die Mails sehen dann ungefähr so aus:</p>

<p><a href="/images/2010-03-26-git-commit-emails-mit-html/gitcommitnotifieremailpq3.png"><img src="/images/2010-03-26-git-commit-emails-mit-html/gitcommitnotifieremailpq3.png" alt=""></a></p>

<p>Um das ganze auch selber zu nutzen, muss man einfach das Gem installieren mit</p>

<p><code class="language-plaintext highlighter-rouge">sudo gem install git-commit-notifier</code></p>

<p>und dann in dem jeweiligen Git-Projekt im Hooks-Verzeichnis eine ausführbare Datei mit dem Namen “post-receive” anlegen mit folgendem Inhalt:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
git-commit-notifier path_to_config.yml
</code></pre></div></div>

<p>Ein Beispiel für die Konfigurations-Datei findet sich
<a href="http://github.com/git-commit-notifier/git-commit-notifier/blob/master/config/git-notifier-config.yml.sample">hier</a>.</p>

<p>Fertig. Jetzt werden schöne HTML-Mails geschickt.</p>

    </div>
  </article>
</div>
<div class="author">
  <div class="author--photo">
    <img class="author--portrait" src="/assets/images/bodo.jpg" alt="Portrait photo of Bodo Tasche">
    <div class="author--name">
      Bodo Tasche
    </div>
    <div class="author--role">
      Polyglot Developer
    </div>
  </div>

  <div class="author--description">
    <p>
      I am a freelance polyglot developer and love HTML5, testing, JavaScript, Ruby and Elixir. In the last 20 years I
      have been in lots of different roles, from Java to Elixir, from backend developer at a 3 people team in an early
      phase startup to the CTO of a web agency. Some of my work can be seen on my <a href="https://bodo.tasche.me/projects">projects page</a>.
    </p>
    <p>
      Need help developing your MVP or to add new features into your current app? Need a CTO or a front/backend
      developer for hire? Send me an <a href="bodo@tasche.me">email</a>.
    </p>
  </div>
</div>
<footer>
  <a href="https://github.com/bitboxer" aria-label="GitHub Profile">
    <i class="fab fa-github"></i>
  </a>
  <a href="https://twitter.com/bitboxer" aria-label="Twitter Profile">
    <i class="fab fa-twitter"></i>
  </a>
  <a href="https://speakerdeck.com/bitboxer" aria-label="Speaker Deck Profile">
    <i class="fab fa-speaker-deck" aria-hidden="true"></i>
  </a>
  <a href="https://www.linkedin.com/in/bodo-tasche-644413b8/" aria-label="Linkedin Profile">
    <i class="fab fa-linkedin"></i>
  </a>
</footer>
      </div>
    </div>
  </body>
</html>
